% Konfigurasi LaTeX yang disesuaikan dengan aturan UNPAM
% 
% @author  IMRON ROSDIANA
% @version v.1
%

% Mengatur bahasa latex
% \usepackage[indonesian]{babel}
\usepackage[utf8]{inputenc}

%
% From The tocbibind package [author: Peter Wilson, Herries Press]:
% The tocbibind package can be used to add document elements like a 
% bibliography or an index to the Table of Contents. The package is designed 
% to work with the four standard book, report, article and proc classes, and to 
% a limited extent with the ltxdoc class.
% 
%\usepackage{tocbibind}

% Untuk pengaturan spacing
\usepackage{setspace}
\onehalfspacing

% Untuk mengatur level section 
\setcounter{secnumdepth}{5}

% Digunakan untuk memasukan gambar ke laporan. 
\usepackage{graphicx}

% Untuk mengatur spacing antara paragraf
% \usepackage{parskip}

% Membuat indent
\usepackage{indentfirst}
\setlength\parindent{1.5cm}

% Untuk mengkustomisasi margin
\usepackage{scrextend}

% Untuk mengatur header dan footer
\usepackage{fancyhdr}

% Untuk sintaks highlighting pada kode
\usepackage{minted}
\usemintedstyle{vs}  % Gaya warna seperti Visual Studio
\setminted{
  fontsize=\small,
  breaklines=true,
  breakanywhere=true,
  breaksymbolleft=\small\color{red!50!black},
  frame=lines,
  framesep=2mm,
  baselinestretch=1.2,
  linenos,
  numbersep=5pt,
  gobble=0
}

% Untuk menambahkan package link
\usepackage[hidelinks]{hyperref}
\hypersetup{
  pdftitle={Skripsi},
  pdfauthor={\textcopyright\ Muhammad Zein Ihza Fahrozi},
  pdfcreator={\LaTeX\ with package \flqq hyperref\frqq},
  pdfsubject={Automatic Deployment Aplikasi berbasis Microservice Pada
      Platform Kubernetes Dengan Metode Pull-Up},
  pdfkeywords={Latex, Template Latex}
}

% Untuk daftar kode program (listings)
\usepackage{listings}
% \renewcommand*{\lstlistingname}{Kode Program  \arabic{chapter}.\arabic{table}}
\renewcommand{\lstlistingname}{Kode Program}
\renewcommand{\lstlistlistingname}{\hspace*{\fill}\bfseries\Large DAFTAR KODE PROGRAM\hspace*{\fill}}
\usepackage{xcolor}

\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}

\makeatletter
\newcommand\language@yaml{yaml}
\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
keywords={true,false,null,y,n},
keywordstyle=\color{darkgray}\bfseries,
basicstyle=\YAMLkeystyle, % assuming a key comes first
sensitive=false,
comment=[l]{\#},
morecomment=[s]{/*}{*/},
commentstyle=\color{purple}\ttfamily,
stringstyle=\YAMLvaluestyle\ttfamily,
moredelim=[l][\color{orange}]{\&},
moredelim=[l][\color{magenta}]{*},
moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:}, % switch to value style at :
morestring=[b]',
morestring=[b]",
literate = {---}{{\ProcessThreeDashes}}3
{>}{{\textcolor{red}\textgreater}}1
{|}{{\textcolor{red}\textbar}}1
{\ -\ }{{\mdseries\ -\ }}3,
}
% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}

\lstset{
  basicstyle=\ttfamily\small,
  commentstyle=\color{green!50!black},
  keywordstyle=\color{blue},
  stringstyle=\color{red},
  numbers=left,
  numberstyle=\tiny\color{gray},
  breaklines=true,
  showspaces=false,
  showstringspaces=false,
  breakatwhitespace=true,
  frame=single
}

% Membuat seluruh tulisan menjadi Times New Roman. 
\usepackage[T1]{fontenc}
\usepackage{newtxtext,newtxmath}
\usepackage{setspace}
\onehalfspacing
% \usepackage{pslatex}
% \usepackage{fontspec}
% \setmainfont{Times New Roman}
\renewcommand{\figurename}{Gambar}

% Merubah numbering chapter dan section untuk judul setiap bab menggunakan romawi dan judul anak bab menggunakan arabic
\renewcommand\thechapter{\Roman{chapter}}
\renewcommand{\thesection}{\arabic{chapter}.\arabic{section}\hspace{0,3cm}}
\renewcommand{\thesubsection}{\arabic{chapter}.\arabic{section}.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\arabic{chapter}.\arabic{section}.\arabic{subsection}.\arabic{subsubsection}\hspace{-0,35cm}}

% Merubah huruf kapital pada judul daftar isi, daftar gambar, dan daftar table
\usepackage{tocloft}
% \renewcommand{\cfttoctitlefont}{\large\bfseries\MakeUppercase}
% \renewcommand{\cftloftitlefont}{\large\bfseries\MakeUppercase}
% \renewcommand{\cftlottitlefont}{\hfil\large\bfseries\MakeUppercase}
\renewcommand{\cftpartleader}{\cftdotfill{\cftdotsep}} % for parts
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}} % for chapters
\renewcommand{\contentsname}{\hspace*{\fill}\bfseries\Large DAFTAR ISI\hspace*{\fill}}
\renewcommand\listfigurename{\hspace*{\fill}\bfseries\Large DAFTAR GAMBAR\hspace*{\fill}}
\renewcommand\listtablename{\hspace*{\fill}\bfseries\Large DAFTAR TABEL\hspace*{\fill}}
\renewcommand{\cftchappresnum}{BAB }
\renewcommand{\cftchapaftersnum}{}
\setlength{\cftchapnumwidth}{4em}
% Mengatur vertical spacing untuk bab
\setlength{\cftbeforechapskip}{0.5em}  % Jarak vertikal sebelum bab
\setlength{\cftbeforesecskip}{0.5em}   % Jarak vertikal sebelum sub bab
\setlength{\cftbeforesubsecskip}{0.2em}

% Mengatur font section
\usepackage{sectsty}
\sectionfont{\fontsize{12}{14}\selectfont}
\subsectionfont{\fontsize{12}{14}\selectfont}
\subsubsectionfont{\fontsize{12}{14}\selectfont}

% Untuk merupakan format penulisan BAB
\usepackage{titlesec}
\titleformat{\chapter}[display]
{\doublespacing\fontsize{14pt}{16pt}\bfseries}
{\MakeUppercase{\chaptertitlename\ \thechapter}\filcenter}		{0pt}{\centering\uppercase}
\titlespacing*{\chapter}{0pt}{-1cm}{20pt}

% Mengatur spacing section
\titlespacing*{\section}
{0pt}{0pt}{-0.05cm}
\titlespacing*{\subsection}
{0pt}{0pt}{-0.05cm}
\titlespacing*{\subsubsection}
{0pt}{0pt}{-0.05cm}

% Digunakan untuk mengatur caption dalam dokumen.
\usepackage[font=footnotesize,format=plain,labelfont=bf,up,textfont=up]{caption}
% Untuk menghapus titik dua (colon)
\captionsetup[figure]{labelsep=space}
\captionsetup[table]{labelsep=space}

% Mengatur nomor caption gambar
\renewcommand{\thefigure}{\arabic{chapter}.\arabic{figure}}

% Mengatur nomor caption table
\renewcommand{\thetable}{\arabic{chapter}.\arabic{table}}

% Mengatur Hyphenation pada latex
\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000

% Untuk mengatur setting indent
\setlength\parindent{1.30cm}

% Untuk memasukkan table
\usepackage{tabularx}

% Untuk mengatur width
\usepackage{changepage}

% Menggatur setting halaman 
\usepackage{geometry}
\geometry{
  a4paper,
  left=4cm,            % <-- you want to adjust this
  top=4cm,
  right=3cm,
  bottom=3cm,
  headheight=1.2cm,       % <-- and this
  headsep=1cm,          % <-- and this
}

% Teks testing
\usepackage{blindtext}
\usepackage{lipsum}
\usepackage{booktabs}
\usepackage{adjustbox}
\usepackage{float}

% Untuk mengatur subscript supscript
\usepackage{fixltx2e}

% Untuk mengatur wrap picture
\usepackage{wrapfig}

% Untuk notasi matematika
\usepackage{amsmath}
\usepackage{stmaryrd}
\usepackage{mathtools}

% untuk insert pdf
\usepackage{pdfpages}

% background watermark
\usepackage{everypage}
\usepackage{tikz}
\usepackage{etoolbox}

% Define the watermark command
\newcommand\AddWatermark{
  \ifshowwatermark
    \begin{tikzpicture}[remember picture,overlay]
      \node[opacity=0.2,inner sep=0pt] at (current page.center)
      {\includegraphics[width=0.7\paperwidth,keepaspectratio]{figures/watermark-logo-umm.jpg}};
    \end{tikzpicture}%
  \fi
}

% Add watermark to every page by default
\AddEverypageHook{\AddWatermark}

% Commands to control watermark
\newif\ifshowwatermark
\showwatermarktrue
\newcommand{\showwatermark}{\showwatermarktrue}
\newcommand{\hidewatermark}{\showwatermarkfalse}

% Untuk mengatur spacing daftar gambar
\newcommand*{\noaddvspace}{\renewcommand*{\addvspace}[1]{}}
\addtocontents{lof}{\protect\noaddvspace}
